{{#header}} version: 1.0.0 {{/header}}

environmentFolderPath: ./env

# Triggered when 'teamsfx provision' is executed
provision:
{{{teamsAppCreate}}}

{{{botAadAppCreate}}}

{{#armDeploy}} deploymentName: Create-resources-for-tab {{/armDeploy}}

{{{azureStorageEnableStaticWebsite}}}

{{{teamsAppValidateManifest}}}
{{#teamsAppZipAppPackage}}  {{/teamsAppZipAppPackage}}
{{{teamsAppValidateAppPackage}}}
{{{teamsAppUpdate}}}

# Triggered when 'teamsfx deploy' is executed
deploy:
{{#cliRunNpmCommand}} install, args: install {{/cliRunNpmCommand}}
{{#cliRunNpmCommand}} workingDirectory: ., args: run build --if-present, build {{/cliRunNpmCommand}}
{{#azureStorageDeploy}} artifactFolder: tab/build {{/azureStorageDeploy}}
{{#azureAppServiceZipDeploy}} workingDirectory: bot, resourceId: ${{BOT_AZURE_APP_SERVICE_RESOURCE_ID}}, ignoreFile: .webappignore {{/azureAppServiceZipDeploy}}

# Triggered when 'teamsfx publish' is executed
publish:
{{{teamsAppValidateManifest}}}
{{#teamsAppZipAppPackage}}  {{/teamsAppZipAppPackage}}
{{{teamsAppValidateAppPackage}}}
{{{teamsAppUpdate}}}
{{{teamsAppPublishAppPackage}}}
